@startuml
title Smart House Module Management Code Diagram

top to bottom direction

!includeurl ./C4_Component.puml

class User {
  +String id
  +String name
}

class Home {
  +String id
  +String user_id
  +String alias
  +String description
  +String address
}

class Module {
  +String id
  +String house_id
}

class Device {
  +String id
  +String house_id
  +String device_type_id
  +String status
  +String measure_type_id
}

class DeviceType {
  +String id
  +String type
}

class MeasureType {
  +String id
  +String type
}

class Scenario {
  +String id
  +String title
  +String house_id
}

class Condition {
  +String id
  +String scenario_id
  +OperatorType operator_type
}

class Rule {
  +String id
  +String scenario_id
  +String device_id
  +String target_value
}

class TelemetryData {
  +String id
  +String device_id
  +Date date
  +String value
}

User "1" -- "0..*" Home : has
Home "1" -- "0..*" Module : has
Home "1" -- "0..*" Scenario : has
Scenario "1" -- "0..*" Condition : has
Scenario "1" -- "0..*" Rule : has
Home "1" -- "0..*" Device : has
Device "1" -- "1" DeviceType : includes
Device "1" -- "1" MeasureType : includes
Device "1" -- "0..*" TelemetryData : includes

@enduml
